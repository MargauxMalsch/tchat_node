<!DOCTYPE html>
<html lang = "en">
<head>
	<meta charset = "UTF-8">
	<title> My Form </title>
	<style>
		#mylink{
			font-size: 25px;
		}
	</style>
</head>
<body align='center'>
        <header>
		<h1>Register</h1>
	</header>

	<form action="/register" method="POST" id="register-form">
		<fieldset>
			<label>Username</label>
			<input type ="text" id = 'username' name="username" placeholder="username" required>
			<br><br>

			<label>Email ID</label>
			<input type ="email" id = 'email' name="email" placeholder="email" required>
			<br><br>

			<label>Password</label>
			<input type="password" id = "password" name="password" placeholder="password" required>
			<br><br>
    
			<button type ="reset">Reset</button>
			<button type ="submit">Submit</button>
		</fieldset>
	</form>
	<br><br>
        <a id="mylink" href="./login">login</a>

        <script>

            var form = document.getElementById("register-form");
            var input = document.getElementById('input');
            var username = document.getElementById('username');
            var email = document.getElementById('email');
            var password = document.getElementById('password');
      
            form.addEventListener('submit', async function(e) {
              e.preventDefault();
              if (username || email || password) {
                const data = await fetch("/auth/register", {
                    method: "POST",
                    headers: {
                        "Accept": "application/json",
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({username, email, password})
                })
              } else {
                  alert("remplissez les champs")
              }
            });
      
    
          </script>
    
</body>
</html>